{"version":3,"sources":["scripts.min.js"],"names":["app","angular","module","config","$stateProvider","$urlRouterProvider","$locationProvider","$httpProvider","interceptors","push","html5Mode","otherwise","state","url","templateUrl","run","$rootScope","ngProgressFactory","$state","$location","$sessionStorage","$on","event","toState","toParams","fromState","fromParams","options","progressbar","createInstance","start","location","complete","bodyClass","go","service","$http","$stateParams","loadUserData","userData","copy","factory","$window","$q","factoryObj","response","request","responseError","errorResponse","status","resolve","jwtHelper","$cookies","userJWT","userDetails","getUserJWT","get","checkTokenExpiration","console","log","isTokenExpired","decodeToken","getUserInfo","directive","restrict","link","scope","elm","attrs","isLoading","pendingRequests","length","$watch","v","show","hide"],"mappings":"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","file":"scripts.min.js","sourcesContent":["/**\r\n * Created by Rohit Tiwari.\r\n */\r\nvar app = angular.module('freisticApp',['ui.router','ngResource','ngStorage','ngProgress','ui.bootstrap','ngCookies','angular-jwt','ngSanitize','rzModule','directive.loading']);\r\n\r\napp.config(['$stateProvider','$urlRouterProvider','$locationProvider',\"$httpProvider\",function ($stateProvider,$urlRouterProvider,$locationProvider,$httpProvider) {\r\n    $httpProvider.interceptors.push('AuthenticationFactory');\r\n    $locationProvider.html5Mode(true);\r\n    $urlRouterProvider.otherwise(\"/\");\r\n    $stateProvider.state(\"blank\",{\r\n        url: \"/\",\r\n        templateUrl: \"views/home.html\"\r\n    })\r\n}]);\r\n\r\n\r\napp.run(['$rootScope','ngProgressFactory','$state','$location',function ($rootScope,ngProgressFactory,$state,$location,$sessionStorage) {\r\n     $rootScope.$on('$stateChangeStart', function(event, toState, toParams, fromState, fromParams, options){\r\n        $rootScope.progressbar = ngProgressFactory.createInstance();\r\n        $rootScope.progressbar.start();\r\n        $rootScope.location = $location;\r\n     });\r\n\r\n     $rootScope.$on('$locationChangeStart', function(event, toState, toParams, fromState, fromParams, options){\r\n\t\t//AuthService.checkPermission();\r\n     });\r\n\r\n    $rootScope.$on('$stateChangeSuccess', function(event, toState, toParams, fromState, fromParams){\r\n        $rootScope.progressbar.complete();\r\n        $rootScope.bodyClass = toState.bodyClass;\r\n    });\r\n\t\r\n\t$rootScope.$on('$stateChangeError', function(event){\r\n        $state.go('undefined');\r\n    });\r\n}]);\r\n/**\r\n* @preserve Created by Rohit Tiwari.\r\n*/\r\napp.service(\"UserService\",[\"$http\",\"$sessionStorage\",\"$stateParams\",function ($http,$sessionStorage,$stateParams) {\r\n\tthis.loadUserData = function () {\r\n\t\tvar userData = angular.copy($sessionStorage.userData);\r\n\t\treturn userData;\r\n\t};\r\n}]);\r\n\r\napp.factory('AuthenticationFactory',['$window','$q', function ($window,$q) {\r\n\tvar factoryObj = {};\r\n\tfactoryObj.response = function (config) {\r\n\t\treturn config;\r\n\t};\r\n\tfactoryObj.request = function (config) {\r\n\t\treturn config;\r\n\t};\r\n\tfactoryObj.responseError = function (errorResponse) {\r\n\t\tswitch(errorResponse.status){\r\n\t\t\tcase 403 :\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\treturn $q.resolve(errorResponse);\r\n\t};\r\n\treturn factoryObj;\r\n}]);\r\n\r\napp.factory(\"TokenFactory\",[\"jwtHelper\",\"$cookies\",function (jwtHelper,$cookies) {\r\n\tvar factory = {};\r\n\tvar userJWT = null;\r\n\tvar userDetails = null;\r\n\tfactory.getUserJWT = function () {\r\n\t\tuserJWT = $cookies.get('authorisedUser');\r\n\t\treturn userJWT;\r\n\t};\r\n\tfactory.checkTokenExpiration = function () {\r\n\t\tif(userJWT){\r\n\t\t\tconsole.log(\"***********\",jwtHelper.isTokenExpired(userJWT));\r\n\t\t\treturn jwtHelper.isTokenExpired(userJWT);\r\n\t\t}else{\r\n\t\t\treturn \"not exists\";\r\n\t\t}\r\n\t};\r\n\tfactory.decodeToken = function () {\r\n\t\tif(userJWT){\r\n\t\t\tuserDetails = jwtHelper.decodeToken(userJWT);\r\n\t\t}\r\n\t};\r\n\tfactory.getUserInfo = function () {\r\n\t\treturn userDetails;\r\n\t};\r\n\treturn factory;\r\n}]);\r\nangular.module('directive.loading', [])\r\n.directive('loading',   ['$http' ,function ($http){\r\n    return {\r\n        restrict: 'A',\r\n        link: function (scope, elm, attrs){\r\n            scope.isLoading = function () {\r\n                return $http.pendingRequests.length > 0;\r\n            };\r\n            scope.$watch(scope.isLoading, function (v){\r\n                if(v){\r\n                    elm.show();\r\n                }else{\r\n                    elm.hide();\r\n                }\r\n            });\r\n        }\r\n    };\r\n}]);"]}