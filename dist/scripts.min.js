/*
 For freisticapp By kumar.rohit.tiwari@gmail.com @ Tuesday, February 13th, 2018, 6:04:01 PM 
*/

"use strict";var app=angular.module("freisticApp",["ui.router","ngResource","ngStorage","ngProgress","ui.bootstrap","ngCookies","angular-jwt","ngSanitize","rzModule","directive.loading"]);app.config(["$stateProvider","$urlRouterProvider","$locationProvider","$httpProvider",function(t,e,n,r){r.interceptors.push("AuthenticationFactory"),n.html5Mode(!0),e.otherwise("/"),t.state("blank",{url:"/",templateUrl:"views/home.html"})}]),app.run(["$rootScope","ngProgressFactory","$state","$location",function(t,e,n,r,o){t.$on("$stateChangeStart",function(n,o,i,a,s,u){t.progressbar=e.createInstance(),t.progressbar.start(),t.location=r}),t.$on("$locationChangeStart",function(t,e,n,r,o,i){}),t.$on("$stateChangeSuccess",function(e,n,r,o,i){t.progressbar.complete(),t.bodyClass=n.bodyClass}),t.$on("$stateChangeError",function(t){n.go("undefined")})}]),app.service("UserService",["$http","$sessionStorage","$stateParams",function(t,e,n){this.loadUserData=function(){return angular.copy(e.userData)}}]),app.factory("AuthenticationFactory",["$window","$q",function(t,e){var n={};return n.response=function(t){return t},n.request=function(t){return t},n.responseError=function(t){return t.status,e.resolve(t)},n}]),app.factory("TokenFactory",["jwtHelper","$cookies",function(t,e){var n={},r=null,o=null;return n.getUserJWT=function(){return r=e.get("authorisedUser")},n.checkTokenExpiration=function(){return r?t.isTokenExpired(r):"not exists"},n.decodeToken=function(){r&&(o=t.decodeToken(r))},n.getUserInfo=function(){return o},n}]),angular.module("directive.loading",[]).directive("loading",["$http",function(t){return{restrict:"A",link:function(e,n,r){e.isLoading=function(){return t.pendingRequests.length>0},e.$watch(e.isLoading,function(t){t?n.show():n.hide()})}}}]);